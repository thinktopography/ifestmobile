import React, { Suspense } from 'react'
import { hot } from 'react-hot-loader'
import ReactDOM from 'react-dom'
import { BrowserRouter as Router, Switch, Route } from 'react-router-dom'
import Root from './components/root'
import Application from './components/application'
import Container from './components/container'
import Days from './views/days'
import Day from './views/day'
import Locations from './views/locations'
import Location from './views/location'
import Artists from './views/artists'
import Artist from './views/artist'
import Map from './views/map'
import Events from './views/events'
import Event from './views/event'
import Vendors from './views/vendors'
import Info from './views/info'

const App = () => (
  <Suspense fallback={ null }>
    <Root>
      <Container>
        <Router>
          <Route render={({ location }) => (
            <Application key={location.key}>
              <Route exact path="/" component={ Days } />
              <Route exact path="/dates" component={ Days } />
              <Route exact path="/dates/:date_id/artists/:id" component={ Artist } />
              <Route exact path="/dates/:id" component={ Day } />
              <Route exact path="/locations" component={ Locations } />
              <Route exact path="/locations/:location_id/artists/:id" component={ Artist } />
              <Route exact path="/locations/:id" component={ Location } />
              <Route exact path="/artists" component={ Artists } />
              <Route exact path="/artists/:id" component={ Artist } />
              <Route exact path="/map" component={ Map } />
              <Route exact path="/events" component={ Events } />
              <Route exact path="/events/:id" component={ Event } />
              <Route path="/vendors" component={ Vendors } />
              <Route path="/info" component={ Info } />
            </Application>
          )}/>
        </Router>
      </Container>
    </Root>
  </Suspense>
)


export default hot(module)(App)
